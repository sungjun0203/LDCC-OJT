<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.lotte.phone.FujiUserDao">

	<select id="getUserName" resultType="String">
		SELECT USER_NAME as userName
		FROM FUJI_USER
		ORDER BY userName;
	</select>
	
	<select id="getUserInfo" resultType="HashMap" parameterType="String">
		select u.*, g.group_name , t.team_name,f.field_name
		from fuji_user u, fuji_team t, fuji_group g, fuji_field f
		where u.user_name LIKE CONCAT('%',#{userName},'%')
		  and u.user_group = g.group_id
		        and g.group_team = t.team_id
		        and t.team_field = f.field_id; 
	
	</select>
	
	<insert id="fujiPhoneWrite" parameterType = "com.lotte.phone.FujiUserDto">
		INSERT INTO FUJI_INFO
		VALUES (0, #{userId}, #{infoDescription},Now());
	</insert>
	

</mapper>


        
   